<!DOCTYPE html>
<html>

<head>
    <title>La Soja (Glycine max)</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <link href='https://unpkg.com/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>


    <!-- Header -->
    <div class="header">
        <h1>La Soja (Glycine max)</h1>
    </div>

    <!-- Navigation Bar -->
    <div class="navbar">
        <a href="index.html">Acerca</a>
        <a href="consumo.html">Como consumirla</a>
        <a href="propiedades.html">Propiedades</a>
        <a href="lista.html">Lista</a>
    </div>

    <!-- The flexible grid (content) -->
    <div class="row">
        <div class="side">


        </div>



        <div class="main">


            <h2>Proteinas</h2>
            <p>Cada 100 gramos los porotos de soja tienen el doble de proteinas que un bife de chorizo. </p>
            <svg width='100%' height='220px'>
                <text x="0" y="15">Poroto de soja</text>
                <rect fill='#3d5599' x="120px" width='0%' height='25'>
                    <animate attributeType="XML" attributeName="width" from="0" to="400px" dur="2s" begin="0s"  fill="freeze"/>
                </rect>
                <text x="500px" y="15">40gr</text>
            
                <text x="0" y="60">Bife de chorizo</text>
                <rect fill='red' x="120px" y="44px" width='0%' height='25'>
                    <animate attributeType="XML" attributeName="width" from="0" to="200px" dur="2s" begin="0s"  fill="freeze"/>
                </rect>
                <text x="300px" y="60">20,47gr</text>
            

                

                <text x="0" y="105">Garbanzo</text>
                <rect fill='green' x="120px" y="88px" width='0%' height='25'>
                    <animate attributeType="XML" attributeName="width" from="0" to="190px" dur="2s" begin="0s"  fill="freeze"/>
                </rect>
                <text x="290px" y="105">19gr</text>
            
            
                <text x="0" y="145px">Naranja</text>
                <rect fill='orange' x="120px" y="132px" width='0%' height='25'>
                    <animate attributeType="XML" attributeName="width" from="0" to="10px" dur="2s" begin="0s"  fill="freeze"/>
                </rect>
                <text x="130px" y="145px">1gr</text>
              </svg>


            <h2>Costo</h2>
            <p>No solo que son una gran fuente de nutrientes, sino que su valor es pr√°cticamente 1/3 al de un bife de chorizo (valores tomados al 03/11/2020 en CotoDigital3.com.ar) </p>
            <svg width='100%' height='220px'>
                  <text x="0" y="15">Poroto de soja</text>
                  <rect fill='#3d5599' x="120px" width='0%' height='25'>
                      <animate attributeType="XML" attributeName="width" from="0" to="120px" dur="2s" begin="0s"  fill="freeze"/>
                  </rect>
                  <text x="240px" y="15">$120</text>
              
                  <text x="0" y="60">Bife de chorizo</text>
                  <rect fill='red' x="120px" y="44px" width='0%' height='25'>
                      <animate attributeType="XML" attributeName="width" from="0" to="440px" dur="2s" begin="0s"  fill="freeze"/>
                  </rect>
                  <text x="560px" y="60">$440</text>
              
                  <text x="0" y="105">Garbanzo</text>
                  <rect fill='green' x="120px" y="88px" width='0%' height='25'>
                      <animate attributeType="XML" attributeName="width" from="0" to="230px" dur="2s" begin="0s"  fill="freeze"/>
                  </rect>
                  <text x="350px" y="105">$230</text>
              
              
                  <text x="0" y="145px">Naranja</text>
                  <rect fill='orange' x="120px" y="132px" width='0%' height='25'>
                      <animate attributeType="XML" attributeName="width" from="0" to="70px" dur="2s" begin="0s"  fill="freeze"/>
                  </rect>
                  <text x="190px" y="145px">$70</text>
                </svg>





            <h2>Macro-nutrientes de la soja</h2>
            <canvas id="canvas" width="400" height="400" />
            <script>
                var drawPieChart = function(data, colors) {
                    var canvas = document.getElementById('canvas');
                    var ctx = canvas.getContext('2d');
                    var x = canvas.width / 3;
                    y = canvas.height / 3;
                    var color,
                        startAngle,
                        endAngle,
                        total = getTotal(data);

                    for (var i = 0; i < data.length; i++) {
                        color = colors[i];
                        startAngle = calculateStart(data, i, total);
                        endAngle = calculateEnd(data, i, total);

                        ctx.beginPath();
                        ctx.fillStyle = color;
                        ctx.moveTo(x, y);
                        ctx.arc(x, y, y - 100, startAngle, endAngle);
                        ctx.fill();
                        ctx.rect(canvas.width - 200, y - i * 30, 12, 12);
                        ctx.fill();
                        ctx.font = "13px sans-serif";
                        ctx.fillText(data[i].label + " (" + calculatePercent(data[i].value, total) + "%)", canvas.width - 200 + 20, y - i * 30 + 10);
                    }
                };

                var calculatePercent = function(value, total) {

                    return (value / total * 100).toFixed(2);
                };

                var getTotal = function(data) {
                    var sum = 0;
                    for (var i = 0; i < data.length; i++) {
                        sum += data[i].value;
                    }

                    return sum;
                };

                var calculateStart = function(data, index, total) {
                    if (index === 0) {
                        return 0;
                    }

                    return calculateEnd(data, index - 1, total);
                };

                var calculateEndAngle = function(data, index, total) {
                    var angle = data[index].value / total * 360;
                    var inc = (index === 0) ? 0 : calculateEndAngle(data, index - 1, total);

                    return (angle + inc);
                };

                var calculateEnd = function(data, index, total) {

                    return degreeToRadians(calculateEndAngle(data, index, total));
                };

                var degreeToRadians = function(angle) {
                    return angle * Math.PI / 180
                }

                var data = [{
                    label: 'Cholesterol + Sodio',
                    value: 0
                }, {
                    label: 'Lipidos',
                    value: 157
                }, {
                    label: 'Carbohidratos',
                    value: 19
                }, {
                    label: 'Proteinas',
                    value: 132
                }];
                var colors = ['#39CCCC', '#3D9970', '#001F3F', '#85144B'];

                drawPieChart(data, colors);
            </script>


        </div>

        <div class="side">

        </div>
    </div>
    <!-- Footer -->
    <div class="footer">
        <h5>2020</h5>
    </div>
    </div>
    </div>



</body>

</html>

<script src="video-control.js"></script>